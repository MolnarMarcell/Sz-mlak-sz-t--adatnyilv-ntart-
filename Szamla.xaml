<Window x:Class="Számlakészítő_adatnyilvántartó.Szamla"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Számla" Height="700" Width="900"
        Background="#1e1e1e">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <GroupBox Header="Számlázás"
                  Foreground="White"
                  BorderBrush="#4CAF50"
                  Margin="0 0 0 10">

            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel>
                    <TextBlock Text="Kiállító:" Foreground="White"/>
                    <TextBox x:Name="Kiallito_TextBox"/>

                    <TextBlock Text="Elérhetőség:" Margin="0 10 0 0" Foreground="White"/>
                    <TextBox x:Name="Elerhetoseg_TextBox"/>
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- MENNYISÉG INPUT PANEL -->
        <GroupBox Grid.Row="1"
                  Header="Termék hozzáadása"
                  Foreground="White"
                  BorderBrush="#4CAF50"
                  Margin="0 0 0 10">

            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Termék kiválasztás -->
                <StackPanel Grid.Column="0" Grid.RowSpan="2">
                    <TextBlock Text="Termék:" Foreground="White" Margin="0 0 0 5"/>
                    <ComboBox x:Name="Termek_ComboBox" Height="30"/>
                </StackPanel>

                <!-- Készlet Label -->
                <StackPanel Grid.Column="1" Margin="10 0 0 0" Grid.RowSpan="2" VerticalAlignment="Center">
                    <TextBlock Text="Készlet:" Foreground="White" Margin="0 0 0 5"/>
                    <Label x:Name="Keszlet_Label" 
                           Content="0" 
                           Background="LightYellow" 
                           Foreground="Black"
                           FontWeight="Bold"
                           Height="35"
                           VerticalContentAlignment="Center"
                           HorizontalContentAlignment="Center"
                           Width="60"/>
                </StackPanel>

                <!-- Mennyiség input -->
                <StackPanel Grid.Column="2" Margin="10 0 0 0" Grid.RowSpan="2" VerticalAlignment="Center">
                    <TextBlock Text="Mennyiség:" Foreground="White" Margin="0 0 0 5"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Minusz gomb -->
                        <Button Grid.Column="0" 
                                Content="-" 
                                Width="35" 
                                Height="35"
                                Background="#d32f2f"
                                Foreground="White"
                                FontSize="16"
                                Click="MinusButton_Click"/>

                        <!-- Mennyiség TextBox -->
                        <TextBox Grid.Column="1" 
                                 x:Name="Mennyiseg_TextBox" 
                                 Margin="5,0"
                                 Text="0" 
                                 TextAlignment="Center"
                                 Height="35"
                                 FontSize="14"
                                 Foreground="Black"/>

                        <!-- Plus gomb -->
                        <Button Grid.Column="2" 
                                Content="+" 
                                Width="35" 
                                Height="35"
                                Background="#4CAF50"
                                Foreground="White"
                                FontSize="16"
                                Click="PlusButton_Click"/>
                    </Grid>
                </StackPanel>

                <!-- Hozzáadás gomb -->
                <Button Grid.Column="3" 
                        Content="Hozzáadás"
                        Margin="10,26,0,0"
                        Padding="15 5"
                        Background="#1976d2"
                        Foreground="White"
                        Click="Hozzaadas_Button_Click"
                        Grid.RowSpan="2"
                        VerticalAlignment="Top"/>

                <!-- Ár Label -->
                <StackPanel Grid.Column="4" Margin="10 0 0 0" Grid.RowSpan="2" VerticalAlignment="Center">
                    <TextBlock Text="Ár:" Foreground="White" Margin="0 0 0 5"/>
                    <Label x:Name="Ar_Label" 
                           Content="0 Ft" 
                           Background="LightBlue" 
                           Foreground="Black"
                           FontWeight="Bold"
                           Height="35"
                           VerticalContentAlignment="Center"
                           HorizontalContentAlignment="Center"
                           Width="80"/>
                </StackPanel>

                <!-- Törlés gomb -->
                <Button Grid.Column="5" 
                        Content="Törlés"
                        Margin="1,21,1,0"
                        Padding="15 5"
                        Background="#f57f17"
                        Foreground="White"
                        Click="Torles_Button_Click"
                        Grid.RowSpan="2"
                        VerticalAlignment="Top" Height="36"/>
            </Grid>
        </GroupBox>

        <!-- DATAGRID -->
        <GroupBox Grid.Row="2"
                  Header="Számla tételei"
                  Foreground="White"
                  BorderBrush="#4CAF50"
                  Margin="0 0 0 10">

            <DataGrid x:Name="SzamlaDataGrid"
                      AutoGenerateColumns="False"
                      Background="#2b2b2b"
                      Foreground="Black"
                      CanUserAddRows="False">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding ID}" Width="50"/>
                    <DataGridTextColumn Header="Név" Binding="{Binding Nev}" Width="*"/>
                    <DataGridTextColumn Header="Kategória" Binding="{Binding Kategoria}" Width="120"/>
                    <DataGridTextColumn Header="Ár (Ft)" Binding="{Binding Ar}" Width="100"/>
                    <DataGridTextColumn Header="Db" Binding="{Binding Darab}" Width="60"/>
                    <DataGridTextColumn Header="Összesen (Ft)" Binding="{Binding Osszeg}" Width="130"/>
                    <DataGridTemplateColumn Header="Törlés" Width="70">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="Törlés" 
                                        Background="#d32f2f"
                                        Foreground="White"
                                        Click="TorlesElem_Click"
                                        Padding="5"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <!-- ÖSSZESEN FOOTER -->
        <Border Grid.Row="3"
                Background="#2e7d32"
                CornerRadius="8"
                Padding="10">

            <DockPanel>
                <TextBlock Text="Összesen:"
                           FontSize="18"
                           Foreground="White"
                           DockPanel.Dock="Left"
                           FontWeight="Bold"/>

                <TextBlock x:Name="Osszesen_Text"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="White"
                           Margin="20 0 0 0"
                           Text="0 Ft"/>

                <Button Content="Számla mentése"
                        DockPanel.Dock="Right"
                        Padding="15 5"
                        Background="#1b5e20"
                        Foreground="White"
                        Click="SzamlaMentes_Click"/>
            </DockPanel>
        </Border>
    </Grid>
</Window>